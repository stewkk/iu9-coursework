\documentclass{beamer}
\usetheme{metropolis}           % Use metropolis theme

\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english, main=russian]{babel}

\usepackage{listingsutf8}
\usepackage[ruled]{algorithm}
\usepackage{algorithmicx}
\usepackage[noend]{algpseudocode}
\usepackage{amsmath}
\usepackage{caption}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{float}

\usepackage{tikz}
\usetikzlibrary{shapes.misc}
\usetikzlibrary{trees}

\floatname{algorithm}{Листинг}
\renewcommand{\algorithmname}{Листинг}

\title{Сравнение методов коммуникации между процессами в среде Linux}
\date{\today} \author{Старовойтов Александр} \author[me]{Выполнил: Старовойтов Александр
  ИУ9-51Б\\[1mm]Руководитель: Цалкович П.А.}
% \thanks
% \institute{МГТУ им. Н.Э. Баумана}
\begin{document}
\maketitle

\begin{frame}{Цели и задачи}
  \metroset{block=fill}
	\begin{alertblock}{Цель}
		Провести сравнительный анализ механизмов межпроцессной коммуникации в Linux.
	\end{alertblock}
	\begin{alertblock}{Задачи}
		\begin{itemize}
			\item Изучить методы межпроцессной коммуникации;
			\item Реализовать библиотеку для их поддержки на C++;
			\item Реализовать бенчмарки;
			\item Собрать данные о производительности и проанализировать;
		\end{itemize}
	\end{alertblock}
\end{frame}

\begin{frame}{Определение межпроцессной коммуникации}

\textbf{Межпроцессное взаимодействие} --- это обмен данными между потоками разных
процессов, реалзизованный с помощью механизмов
предоставляемых операционной системой.

\end{frame}

\begin{frame}{Классификация методов межпроцессной коммуникации}

  \begin{itemize}
	\item \textbf{Коммуникационные}: фокусируются на
	обмене данными между процессами;
	\item \textbf{Синхронизационные}: для синхронизации действий между различными
	процессами;
	\item \textbf{Сигналы}: могут использоваться как для обмена данными, так и для
	синхронизации.
  \end{itemize}

\end{frame}

\begin{frame}{Коммуникационные методы}

\begin{figure}[H]
  \centering
  \begin{minipage}[t]{\textwidth}
    \centering
    \begin{tikzpicture}[grow'=right,
      every node/.style={shape=rectangle,draw,align=center}]
      \node {Коммуникационные\\механизмы}
      [level distance=50mm, sibling distance=40mm, edge from parent fork right]
        child {
          node {Передача данных}
        }
        child {
          node {Разделяемая память}
        };
    \end{tikzpicture}
  \end{minipage}
  \caption{Классификация коммуникационных механизмов межпроцессного взаимодействия в Linux.}
  \label{fig:communication_ipc_taxonomy}
\end{figure}

\end{frame}

\begin{frame}{Передача данных}

\begin{figure}[H]
  \centering
  \begin{minipage}[t]{\textwidth}
    \centering
	\resizebox{0.7\textwidth}{7cm}{%
    \begin{tikzpicture}[grow'=right,
      every node/.style={shape=rectangle,draw,align=center}]
          \node {Передача\\данных}
          [level distance=45mm, sibling distance=30mm, edge from parent fork right]
            child {
              node {Поток байтов}
              [shape=rounded rectangle, level distance=40mm, sibling distance=10mm, edge from parent fork right]
                child {
                  node [shape=rounded rectangle] {Каналы}
                }
                child {
                  node [shape=rounded rectangle] {FIFO}
                }
                child {
                  node [shape=rounded rectangle, yshift=-3mm] {Потоковые\\сокеты}
                }
            }
            child {
              node [shape=rounded rectangle] {Псевдо-\\терминал}
            }
            child {
              node {Сообщения}
              [level distance=40mm, sibling distance=25mm, edge from parent fork right]
                child {
                  node [shape=rounded rectangle] {Очереди\\сообщений\\System V}
                }
                child {
                  node [shape=rounded rectangle] {Очереди\\сообщений\\POSIX}
                }
                child {
                  node [shape=rounded rectangle] {Датаграммные\\сокеты}
                }
        };
    \end{tikzpicture}
	}
  \end{minipage}
  \caption{Классификация методов передачи данных.}
  \label{fig:data_flow}
\end{figure}

\end{frame}

\begin{frame}{Разделяемая память}

\begin{figure}[H]
  \centering
  \begin{minipage}[t]{\textwidth}
    \centering
	\resizebox{\textwidth}{7cm}{%
    \begin{tikzpicture}[grow'=right,
      every node/.style={shape=rectangle,draw,align=center}]
	  \node {Разделяемая\\память} [level distance=45mm, sibling distance=25mm, edge from parent fork right]
          child {
            node [shape=rounded rectangle, xshift=15mm] {Разделяемая память System V}
          }
          child {
            node [shape=rounded rectangle, xshift=13mm] {Разделяемая память POSIX}
          }
          child {
            node {Отображаемая\\память}
            [level distance=45mm, sibling distance=25mm, edge from parent fork right]
              child {
                node [shape=rounded rectangle] {Анонимное\\отображение}
              }
              child {
                node [shape=rounded rectangle] {Отображение\\файла}
              }
          };
    \end{tikzpicture}
	}
  \end{minipage}
  \caption{Классификация разделяемой памяти.}
  \label{fig:memory_mapping}
\end{figure}

\end{frame}

\begin{frame}{Архитектура библиотеки}

\begin{figure}[H]
  \centering
  \begin{minipage}[t]{\textwidth}
    \centering
    \resizebox{\textwidth}{6cm}{%
    \input{class_diagram.tex}
    }
  \end{minipage}
  \caption{Диаграмма классов библиотеки.}
  \label{fig:classes}
\end{figure}

\end{frame}

\begin{frame}{Тестирование корректности}

  \begin{alertblock}{Для проверки корректности кода было применено:}
  \begin{itemize}
    \item Покрытие кода юнит-тестами;
    \item Санитайзеры;
	\item Статический анализатор clang-tidy;
	\item valgrind.
  \end{itemize}
  \end{alertblock}

\end{frame}

\begin{frame}{Реализация бенчмарков}

  \begin{alertblock}{Бенчмарки построены по одному шаблону:}
  \begin{itemize}
    \item Однонаправленная передача (от дочернего процесса к родительскому);
    \item 40'000 байт в одной итерации;
	\item Настраивается размер сообщения и их количество;
	\item fork() для создания дочернего процесса.
  \end{itemize}
  \end{alertblock}

\end{frame}

\begin{frame}{Результаты измерений производительности}

\begin{figure}[H]
  \centering
  \begin{minipage}[t]{\textwidth}
    \centering
    \includegraphics[width=\textwidth]{./imgs/performance.png}
  \end{minipage}
  \caption{Сравнительный график производительности средств межпроцессной
    коммуникации.}
  \label{fig:performance}
\end{figure}

\end{frame}

\begin{frame}{Заключение}
  \begin{alertblock}{Возможные улучшения}
  \begin{itemize}
    \item Тестирование и замеры производительности на других реализациях UNIX;
    \item Расширение интерфейсов для поддержки двунаправленной коммуникации.
  \end{itemize}
  \end{alertblock}
\end{frame}

\begin{frame}{Заключение}
  В ходе разработки были получены следующие навыки:
    \begin{itemize}
      \item Разработка программ с использованием межпроцессной коммуникации;
      \item Системное программирование на C++ в среде Linux;
      \item Реализация бенчмарков;
	  \item Анализ данных о производительности, их представление в виде
			графиков.
    \end{itemize}
\end{frame}

\end{document}
